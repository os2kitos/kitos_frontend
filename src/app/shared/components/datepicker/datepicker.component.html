<!-- Version used inside of forms-->
<mat-form-field *ngIf="formGroup" class="{{ size }}" [formGroup]="formGroup">
  <mat-label>{{ text }}</mat-label>
  <input
    matInput
    i18n-placeholder
    placeholder="Dag-Måned-År (f.eks. 01-02-1980)"
    type="text"
    [matDatepicker]="picker"
    [formControlName]="formName"
    (dateChange)="formDateInputValueChange($event)"
    (focus)="focus(true)"
    (blur)="focus(false)"
    #input
  />
  <mat-datepicker-toggle
    *ngIf="(formName !== null && formGroup.controls[formName].disabled) === false"
    [disableRipple]="true"
    matIconSuffix
    [for]="picker"
    data-cy="datepicker-toggle"
  >
    <mat-icon svgIcon="custom-mat-calendar-toggle-icon" matDatepickerToggleIcon ></mat-icon>
  </mat-datepicker-toggle>
  <mat-datepicker #picker (closed)="focus(false)" xPosition="end" [yPosition]="pickerAlignmentY"></mat-datepicker>
</mat-form-field>

<!--Version used outside of forms-->
<mat-form-field *ngIf="!formGroup" class="{{ size }}">
  <mat-label>{{ text }}</mat-label>
  <input
    matInput
    i18n-placeholder
    type="text"
    placeholder="Dag-Måned-År (f.eks. 01-02-1980)"
    [matDatepicker]="picker"
    [disabled]="disabled"
    [value]="value"
    (dateChange)="dateInputChanged($event)"
  />
  <mat-datepicker-toggle *ngIf="!disabled" [disableRipple]="true" matIconSuffix [for]="picker" >
    <mat-icon svgIcon="custom-mat-calendar-toggle-icon" matDatepickerToggleIcon data-cy="datepicker-toggle"></mat-icon>
  </mat-datepicker-toggle>
  <mat-datepicker #picker (closed)="focus(false)" xPosition="end" [yPosition]="pickerAlignmentY"></mat-datepicker>
</mat-form-field>
